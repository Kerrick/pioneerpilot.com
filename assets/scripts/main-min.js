!function(){"use strict";function e(e,t){return n(e)||a(e,t)||i()}function t(e){return r(e)||o(e)||c()}function r(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function n(e){if(Array.isArray(e))return e}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var c=e[Symbol.iterator](),i;!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var l=function e(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)};l((function(){document.body.addEventListener("mouseover",(function(t){if("A"===t.target.tagName&&t.target.getAttribute("href")&&t.target.getAttribute("href").startsWith("https://scryfall.com/card/")&&!t.target.querySelector("img")){var r,n=e(t.target.getAttribute("href").match(/https:\/\/scryfall.com\/card\/(\w+)\/(\d+)(\/.*|$)/),3),o=n[1],a=n[2],c="https://api.scryfall.com/cards/".concat(o,"/").concat(a,"/?format=image&version=png"),i=document.createElement("img");i.src=c,i.className="hover-zoom",i.style.top="".concat(t.clientY+10,"px"),i.style.left="".concat(t.clientX+10,"px"),document.body.appendChild(i);var l=t.target.addEventListener("mouseleave",(function(e){i.remove(),e.target.removeEventListener("mouseleave",l)}))}}))})),l((function(){t(document.querySelectorAll(".decklist")).forEach((function(e){if(e.querySelector(".decklist__data")){console.log(e);var t=document.createElement("div");t.classList.add("decklist__actions");var r=document.createElement("button");r.classList.add("decklist__copy"),r.innerText="Copy Decklist",r.addEventListener("click",(function(t){r.innerText="Copied to clipboard!";var n=document.activeElement;e.querySelector(".decklist__data").classList.add("decklist__data--selecting"),e.querySelector(".decklist__data").select(),document.execCommand("copy"),e.querySelector(".decklist__data").classList.remove("decklist__data--selecting"),n.focus(),setTimeout((function(){return r.innerText="Copy Decklist"}),2e3)})),t.appendChild(r),e.appendChild(t)}}))})),l((function(){t(document.querySelectorAll(".mid-article-response")).forEach((function(t){var r=decodeURIComponent(t.querySelector(".mid-article-response__tweet").getAttribute("href").split("text=")[1]);console.log(r);var n,o=e(r.split("...").map((function(e){return e.trim()})),2),a=o[0],c=o[1],i="… ";console.log(a,c),t.removeChild(t.querySelector(".mid-article-response__tweet"));var l=document.createElement("form");l.classList.add("mid-article-response__form"),l.innerHTML='<label class="mid-article-response__form-label">\n<textarea class="mid-article-response__form-response" maxlength="'.concat(280-a.length-"… ".length,'">').concat(c,'</textarea>\n<button class="mid-article-response__form-submit" type="submit">Post Comment</button>\n</label>'),l.addEventListener("submit",(function(e){return window.open("https://twitter.com/intent/tweet?text=".concat(a).concat("… ").concat(e.target.querySelector(".mid-article-response__form-response").value),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=280"),e.preventDefault(),!1})),t.appendChild(l)}))}))}();